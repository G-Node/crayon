<html>
  <head>
    <title>Crayon Examples</title>
    <link rel=stylesheet href="../crayon.css">
  </head>
  <style>
    body {
      margin: 10px;
    }
    div.body {
      margin: auto;
      width: 960px;
    } 

    h1 {
      font-weight: none;
      font-family: helvetica;
      font-size: 2.5em;
      color: #555555;
      border-bottom: 1px dashed #aaaaaa;
    }

    h2 {
      padding-top: 30px;
      font-weight: none;
      font-family: helvetica;
      color: #555555;
      font-size: 1.5em;
    }

    div.action {
      width: 600px;
      text-align: right;
      margin-top: 10px;
    }
  </style>
  <body>
    <div class="body">
      <h1>Crayon.js : Examples</h1>

      <h2>An ordinary two signal plot</h2>
      <div id="plot-here1" style="width:600px;height: 300px;">
      </div>

      <h2>A single signal plot without ticks on the axes</h2>
      <div id="plot-here2" style="width:600px;height: 300px;">
      </div>

      <h2>SpikeTrain</h2>
      <div id="plot-spike" style="width: 600px;height: 300px;">
      </div>
      <div class="action" id="plot-spike-action">
        <button id="spike-action-add">add spike</button>
      </div>

      <h2>Preset domain</h2>
      <div id="preset-domain-plot" style="width:600px;height: 300px;">
      </div>

      <h2>Bizarre colors</h2>
      <div id="plot-here3" style="width:600px;height: 300px;">
      </div>

      <h2>Density Maps</h2>
      <div id="plot-dense" style="width:600px;height: 300px;">
      </div>

    </div>
    <script src="../lib/jquery/jquery.js"></script>
    <script src="../lib/d3/d3.js"></script>
    <script src="../crayon.js">
    </script>
    <script>
      $(document).ready(function() {

        var signals = [
          [
            { x: 0.1, y: 0.4},
            { x: 0.2, y: 0.3},
            { x: 0.3, y: 0.5},
            { x: 0.4, y: 0.6},
            { x: 0.5, y: 0.9},
            { x: 0.6, y: 0.89}
          ],
          [
            { x: 0.1, y: 0.8},
            { x: 0.2, y: 0.9},
            { x: 0.3, y: 0.15},
            { x: 0.4, y: 1.8},
            { x: 0.5, y: 0.12},
            { x: 0.6, y: 0.22},
            { x: 0.7, y: 0.32},
            { x: 0.8, y: 0.39}
          ],
          [
            { x:99, y: 101},
            { x:100, y: 266},
            { x:101, y: 70},
            { x:102, y: 75},
            { x:103, y: 146},
            { x:104, y: 139},
            { x:105, y: 90},
            { x:106, y: 134},
            { x:107, y: 111},
            { x:108, y: 246},
            { x:109, y: 131},
            { x:110, y: 229},
            { x:111, y: 237},
            { x:112, y: 51},
            { x:113, y: 233},
            { x:114, y: 284},
            { x:115, y: 286},
            { x:116, y: 142},
            { x:117, y: 244},
            { x:118, y: 221},
            { x:119, y: 242},
            { x:120, y: 162},
            { x:121, y: 237},
            { x:122, y: 161},
            { x:123, y: 60},
            { x:124, y: 34},
            { x:125, y: 293},
            { x:126, y: 165},
            { x:127, y: 116},
            { x:128, y: 176},
            { x:129, y: 139},
            { x:130, y: 107},
            { x:131, y: 33},
            { x:132, y: 84},
            { x:133, y: 22},
            { x:134, y: 271},
            { x:135, y: 171},
            { x:136, y: 138},
            { x:137, y: 192},
            { x:138, y: 187},
            { x:139, y: 278},
            { x:140, y: 109}
          ]
        ];

        var spiketrain = [ 
          [21, 36, 41, 46, 48, 61, 70, 75, 81, 85, 97, 109, 115, 118,
            122, 133, 146, 151, 162, 168, 174, 188, 203, 215, 227, 235,
            249, 261, 271, 279, 290, 302, 317, 329, 339, 353, 361, 365,
            371, 382, 388, 398, 400, 407],
          [908, 915, 919, 924, 933, 942, 950, 954, 960, 971, 979, 990,
            1001, 1016, 1027, 1034, 1038, 1051, 1063, 1071, 1084, 1091,
            1093, 1104, 1115, 1125, 1132, 1138, 1153, 1161], 
          [531, 545, 551, 560, 562, 573, 587, 600, 611, 620, 627, 633,
            638, 641, 650, 654, 657, 665, 678, 681, 688, 695, 705,
            715, 728, 737, 745, 752, 755, 765, 773, 786, 799, 802,
            813, 817, 825, 839, 849, 856, 862]
        ];

        var signalplot1 = window.signalplot1 = crayon.init('div#plot-here1');

        signalplot1.drawSignal(signals[0], 'signal_01');
        signalplot1.drawSignal(signals[1], 'signal_02');

        window.signalplot2 = crayon.init('div#plot-here2', 
          { xaxis : { showTicks : false },
            yaxis : { showTicks : false },
            interaction : {selections: false}
          });
        /* This shows that drawSignal returns signal color */
        console.log(signalplot2.drawSignal(signals[1], 'signal_02'));

        window.signalplot3 = crayon.init('div#plot-here3');
        signalplot3.drawSignal(signals[2], 'signal_03', '#15FF00');

        window.spikeplot = crayon.init('div#plot-spike',
        { 
          interaction : { selections: false }
        });
        spikeplot.drawSpikeTrain(spiketrain[0], 'spiketrain_01',
        '#0099ff');

        $('button#spike-action-add').click(function() {
          $('button#spike-action-add').text('add yet another');
          spikeplot.drawSpikeTrain(spiketrain[1], 'spiketrain_03', '#0099ff');

          $('button#spike-action-add').unbind();
          
          $('button#spike-action-add').click(function() {
            $('button#spike-action-add').attr('disable', 'true');
            spikeplot.drawSpikeTrain(spiketrain[2], 'spiketrain_02', '#0099ff');
          });
        });

        window.preset = crayon.init('div#preset-domain-plot',
        { 
          interaction : { selections: false }
        });
        
        preset.fixDomain([0, 1000]);
        preset.drawSpikeTrain(spiketrain[1], 'spiketrain_02',
        '#ff9900');
        preset.drawSignal(signals[2], 'signal_03');

        window.dense = crayon.init('div#plot-dense');
        
        dense.drawDensityPlot(signals[2], 'signal_03', '#005480');
        dense.drawDensityPlot(signals[2], 'signal_02', '#890040');
      });
    </script>
  </body>
</html>
